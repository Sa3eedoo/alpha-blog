<div style="max-width:700px; margin:60px auto; font-family:'Poppins',sans-serif;">
  <div style="background-color:white; border-radius:1rem; box-shadow:0 8px 20px rgba(0,0,0,0.05); padding:30px; text-align:center;">

    <!-- Profile Image -->
    <%= image_tag gravatar_for(@user),
      alt: @user.username,
      onerror: "this.onerror=null;this.src='#{asset_path('placeholder.png')}';",
      style: "width:150px; height:150px; border-radius:50%; margin-bottom:15px; object-fit:cover;" %>

    <!-- Username -->
    <h2 style="font-weight:700; font-size:1.6rem; color:#0d6efd; margin-bottom:5px;">
      <%= @user.username %>
    </h2>

    <!-- Article Count -->
    <p style="font-size:0.95rem; color:#495057; margin-bottom:20px;">
      üìù <%= pluralize(@user.articles.count, "Article") %>
    </p>

    <!-- Member Since -->
    <p style="font-size:1rem; color:#6c757d; margin-bottom:25px;">
      Member since <%= time_ago_in_words(@user.created_at) %> ago
    </p>

    <!-- Buttons -->
    <div style="display:flex; flex-direction:column; align-items:center; gap:10px; margin-top:10px;">
      <%= link_to "‚úèÔ∏è Edit Profile", edit_user_path(@user),
        style: "display:inline-block; border:1px solid #6c757d; color:#6c757d; border-radius:50px; padding:8px 20px; text-decoration:none; font-weight:500; transition:all 0.2s ease;" %>

      <%= link_to "üìÑ View All Articles", articles_path,
        style: "display:inline-block; border:1px solid #0d6efd; color:#0d6efd; border-radius:50px; padding:8px 20px; text-decoration:none; font-weight:500; transition:all 0.2s ease;" %>
    </div>
  </div>
</div>

<!-- User's Articles -->
<div style="margin-top:60px;">
  <h3 style="text-align:center; font-weight:600; color:#212529; margin-bottom:30px;">
    Articles by <%= @user.username %>
  </h3>

  <% if @articles.any? %>
    <!-- Render Articles -->
    <%= render 'articles/articles' %>

    <!-- Bottom Pagination -->
    <% if @articles.total_pages > 1 %>
      <div style="display:flex; justify-content:center; flex-wrap:wrap; gap:6px; margin-top:25px;">
        <% if @articles.previous_page %>
          <%= link_to "&laquo; Prev".html_safe, url_for(page: @articles.previous_page),
            style: "padding:8px 14px; border:1px solid #dee2e6; border-radius:6px; color:#0d6efd; background:white; text-decoration:none; font-size:0.9rem; transition:all 0.2s ease;" %>
        <% else %>
          <span style="padding:8px 14px; border:1px solid #dee2e6; border-radius:6px; color:#adb5bd; font-size:0.9rem; background:#f8f9fa;">&laquo; Prev</span>
        <% end %>

        <% (1..@articles.total_pages).each do |page| %>
          <% if page == @articles.current_page %>
            <span style="padding:8px 14px; border:1px solid #0d6efd; border-radius:6px; background:#0d6efd; color:white; font-weight:500; font-size:0.9rem;">
              <%= page %>
            </span>
          <% else %>
            <%= link_to page, url_for(page: page),
              style: "padding:8px 14px; border:1px solid #dee2e6; border-radius:6px; color:#0d6efd; background:white; text-decoration:none; font-size:0.9rem; transition:all 0.2s ease;" %>
          <% end %>
        <% end %>

        <% if @articles.next_page %>
          <%= link_to "Next &raquo;".html_safe, url_for(page: @articles.next_page),
            style: "padding:8px 14px; border:1px solid #dee2e6; border-radius:6px; color:#0d6efd; background:white; text-decoration:none; font-size:0.9rem; transition:all 0.2s ease;" %>
        <% else %>
          <span style="padding:8px 14px; border:1px solid #dee2e6; border-radius:6px; color:#adb5bd; font-size:0.9rem; background:#f8f9fa;">Next &raquo;</span>
        <% end %>
      </div>
    <% end %>

  <% else %>
    <p style="text-align:center; color:#6c757d;">No articles yet.</p>
  <% end %>
</div>
