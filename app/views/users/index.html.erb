<div style="max-width:900px; margin:60px auto; font-family:'Poppins',sans-serif;">
  <h2 style="text-align:center; font-weight:700; color:#0d6efd; margin-bottom:40px;">All Users</h2>

  <div style="display:grid; grid-template-columns:repeat(auto-fit, minmax(220px, 1fr)); gap:25px;">
    <% @users.each do |user| %>
      <div style="background:white; border-radius:1rem; box-shadow:0 4px 15px rgba(0,0,0,0.05); padding:25px; text-align:center;">
        
        <%= image_tag gravatar_for(user),
              alt: user.username,
              onerror: "this.onerror=null;this.src='#{asset_path('placeholder.png')}';",
              style: "width:100px; height:100px; border-radius:50%; object-fit:cover; margin-bottom:10px;" %>

        <h5 style="font-weight:600; color:#0d6efd; margin-bottom:8px;">
          <%= link_to user.username, user_path(user), style: 'text-decoration:none; color:#0d6efd;' %>
        </h5>

        <p style="font-size:0.9rem; color:#6c757d; margin-bottom:6px;">
          Member since <%= time_ago_in_words(user.created_at) %> ago
        </p>

        <p style="font-size:0.9rem; color:#495057; margin-bottom:15px;">
          📝 <%= pluralize(user.articles.count, "Article") %>
        </p>

        <%= link_to 'View Profile', user_path(user),
              style: "display:inline-block; border:1px solid #0d6efd; color:#0d6efd; border-radius:50px; padding:5px 15px; font-size:0.85rem; text-decoration:none; font-weight:500; transition:all 0.2s ease;" %>
      </div>
    <% end %>
  </div>
</div>
